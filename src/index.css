@import url('https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css');
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* 1. BASE LAYER */
@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem;
    font-family: 'Space Grotesk', system-ui, sans-serif;
  }
  
  body {
    @apply bg-neo-bg text-neo-black;
  }
  
  /* Dark mode overrides */
  :root[class~="dark"] body {
    @apply bg-neo-dark text-neo-white;
  }
  
  /* Neo-brutalist typography */
  h1, h2, h3, h4, h5, h6 {
    @apply font-display font-bold uppercase tracking-tight;
  }
  
  /* Enforce No-Radius Globally */
  *, ::before, ::after {
    border-radius: 0px;
  }
}

/* 2. COMPONENTS LAYER */
@layer components {
  /* --- Core Neo-Brutalist Components --- */
  
  /* Brutal Card */
  .brutal-card {
    @apply border-3 border-neo-black bg-neo-white shadow-brutal-md transition-transform duration-200 ease-brutal;
  }
  
  .brutal-card:hover {
    @apply -translate-x-0.5 -translate-y-0.5 shadow-brutal-lg;
  }
  
  .dark .brutal-card {
    @apply bg-neo-dark border-neo-white shadow-brutal-dark-md;
  }
  
  /* Brutal Button */
  .brutal-btn {
    @apply border-3 border-neo-black font-bold uppercase px-6 py-3 
           transition-all duration-200 cursor-pointer select-none inline-flex items-center justify-center;
  }
  
  .brutal-btn:hover {
    @apply -translate-x-1 -translate-y-1 shadow-brutal-lg;
  }
  
  .brutal-btn:active {
    @apply translate-x-0 translate-y-0 shadow-brutal-sm;
  }

  /* Brutal Input */
  .brutal-input {
    @apply border-3 border-neo-black px-4 py-3 bg-neo-white dark:bg-base-200 w-full
           focus:outline-none focus:shadow-brutal-md transition-all duration-200;
  }
  
  /* Neo-brutalist form inputs (Generic overrides) */
  input[type="text"],
  input[type="email"],
  input[type="search"],
  textarea,
  select {
    @apply border-3 border-neo-black bg-neo-white p-3 font-medium transition-all duration-200;
  }

  input[type="text"]:focus,
  input[type="email"]:focus,
  input[type="search"]:focus,
  textarea:focus,
  select:focus {
    @apply outline-none shadow-brutal-md -translate-x-0.5 -translate-y-0.5;
  }

  .dark input[type="text"],
  .dark input[type="email"],
  .dark input[type="search"],
  .dark textarea,
  .dark select {
    @apply bg-base-200 text-neo-white;
  }

  /* Modal Box */
  .modal-box {
    @apply border-6 border-neo-black shadow-brutal-xl bg-neo-white p-8 dark:bg-base-200;
  }

  /* --- Legacy Color Utilities (Refactored to use tokens) --- */
  /* Kept for backward compatibility with existing Astro components */
  .brutal-yellow { @apply bg-neo-yellow text-black; }
  .brutal-pink { @apply bg-neo-pink text-white; }
  .brutal-blue { @apply bg-neo-blue text-white; }
  .brutal-green { @apply bg-neo-green text-black; }
  .brutal-purple { @apply bg-neo-purple text-white; }
  .brutal-orange { @apply bg-neo-orange text-white; }
  
  /* Ensure child elements inherit text color for these util classes */
  .brutal-yellow *, .brutal-green * { color: black; }
  .brutal-pink *, .brutal-blue *, .brutal-purple *, .brutal-orange * { color: white; }

  /* --- Tool Cards & Skills (Preserved) --- */
  .tool-card {
    @apply bg-white dark:bg-gray-800 shadow-md transition-all duration-200 overflow-hidden;
  }
  .tool-card.frontend { @apply border-l-4 border-blue-500; }
  .tool-card.backend { @apply border-l-4 border-green-500; }
  .tool-card.database { @apply border-l-4 border-yellow-500; }
  .tool-card.devops { @apply border-l-4 border-purple-500; }
  .tool-card.design { @apply border-l-4 border-pink-500; }
  .tool-card.mobile { @apply border-l-4 border-orange-500; }
  
  .dark .tool-card { @apply bg-gray-800; }

  .skill-badge { @apply px-3 py-1 text-sm font-medium; }
  .skill-badge.frontend { @apply bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300; }
  .skill-badge.backend { @apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300; }
  .skill-badge.database { @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300; }
  .skill-badge.devops { @apply bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300; }
  .skill-badge.design { @apply bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300; }
  .skill-badge.mobile { @apply bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300; }

  .progress-bar { @apply h-2 bg-gray-200 dark:bg-gray-700 overflow-hidden; }
  .progress-bar .progress { @apply h-full transition-all duration-300; }
  .progress-bar .progress.frontend { @apply bg-blue-500; }
  .progress-bar .progress.backend { @apply bg-green-500; }
  .progress-bar .progress.database { @apply bg-yellow-500; }
  .progress-bar .progress.devops { @apply bg-purple-500; }
  .progress-bar .progress.design { @apply bg-pink-500; }
  .progress-bar .progress.mobile { @apply bg-orange-500; }
  
  .dark .skill-card { @apply bg-gray-800 border-gray-700; }
  
  .category-label { @apply px-2 py-0.5 text-xs font-medium; }
  .category-label.frontend { @apply bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300; }
  .category-label.backend { @apply bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300; }
  .category-label.database { @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300; }
  .category-label.devops { @apply bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-300; }
  .category-label.design { @apply bg-pink-100 text-pink-800 dark:bg-pink-900/40 dark:text-pink-300; }
  .category-label.mobile { @apply bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300; }
}

/* 3. UTILITIES & ANIMATIONS */
@layer utilities {
  .text-shadow-brutal {
    text-shadow: 4px 4px 0px #000;
  }
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes slideInLeft {
  from { opacity: 0; transform: translateX(-30px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes slideInRight {
  from { opacity: 0; transform: translateX(30px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}
@keyframes glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(2px, -2px); }
  100% { transform: translate(0); }
}
@keyframes shake {
  0%, 100% { transform: translateX(0) rotate(0deg); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-10px) rotate(-5deg); }
  20%, 40%, 60%, 80% { transform: translateX(10px) rotate(5deg); }
}

.animate-fadeIn { animation: fadeIn 0.6s ease-out forwards; }
.animate-bounce { animation: bounce 2s ease-in-out infinite; }
.animate-glitch { animation: glitch 0.3s ease-in-out; }

/* Section Spacing */
section {
  padding: 4rem 0;
}

/* Boxicons specificity */
.bx[class*="bxl-"], 
.bx[class*="bx-"], 
.bx[class*="bxs-"] {
  color: inherit;
}

/* Swiper Customization - Neo-Brutalist */
.featured-projects-swiper .swiper-button-next,
.featured-projects-swiper .swiper-button-prev {
  @apply bg-neo-yellow border-3 border-neo-black shadow-brutal text-neo-black font-bold w-12 h-12;
}

.featured-projects-swiper .swiper-button-next:hover,
.featured-projects-swiper .swiper-button-prev:hover {
  @apply -translate-x-0.5 -translate-y-0.5 shadow-brutal-lg;
}

.featured-projects-swiper .swiper-button-next::after,
.featured-projects-swiper .swiper-button-prev::after {
  font-size: 20px;
  font-weight: bold;
}

.featured-projects-swiper .swiper-pagination-bullet {
  width: 16px;
  height: 16px;
  background: #fff;
  border: 3px solid #000;
  opacity: 1;
}

.featured-projects-swiper .swiper-pagination-bullet-active {
  @apply bg-neo-yellow border-3 border-neo-black shadow-brutal-sm;
}

/* 4. ACCESSIBILITY & MOTION CONTROL */
@media (prefers-reduced-motion: reduce) {
  *, ::before, ::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .animate-shake,
  .animate-bounce,
  .animate-glitch {
    animation: none !important;
  }
  
  .brutal-card:hover,
  .brutal-btn:hover {
    transform: none !important;
    box-shadow: none !important; 
  }
}