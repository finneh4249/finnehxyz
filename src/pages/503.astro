---
import BaseLayout from '../layouts/BaseLayout.astro';

const unavailableMessages = [
  "503: SERVICE TAKING A COFFEE BREAK",
  "SERVER IS UNAVAILABLE (PROBABLY SLEEPING)",
  "SERVICE TEMPORARILY OUT OF ORDER",
  "503: WE'RE CLOSED FOR MAINTENANCE",
  "SERVER WENT ON VACATION WITHOUT NOTICE",
  "SERVICE UNAVAILABLE: HAMSTERS ON STRIKE",
  "503: SYSTEM OVERLOADED (TOO POPULAR)",
  "TEMPORARILY DOWN: COME BACK LATER",
  "SERVICE UNAVAILABLE: REBOOTING UNIVERSE",
  "503: EXPERIENCING TECHNICAL DIFFICULTIES",
];

const randomMessage = unavailableMessages[Math.floor(Math.random() * unavailableMessages.length)];
---

<BaseLayout title="503 - SERVICE UNAVAILABLE">
  <link slot="head" href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  
  <div class="overflow-x-hidden">
    
    <!-- Background Elements -->
    <div class="fixed inset-0 pointer-events-none overflow-hidden">
      <!-- Loading Circles -->
      <div class="absolute top-20 left-20 w-24 h-24 border-8 border-blue-400 border-t-transparent rounded-full animate-spin"></div>
      <div class="absolute bottom-20 right-20 w-32 h-32 border-8 border-purple-400 border-t-transparent rounded-full animate-spin" style="animation-duration: 1.5s;"></div>
      <div class="absolute top-1/2 left-1/4 w-16 h-16 border-8 border-green-400 border-t-transparent rounded-full animate-spin" style="animation-duration: 2s;"></div>
      
      <!-- Pulsing Dots -->
      <div class="absolute top-1/4 right-1/4 w-12 h-12 bg-yellow-400 border-4 border-black dark:border-white rounded-full animate-pulse"></div>
      <div class="absolute bottom-1/3 left-1/3 w-16 h-16 bg-pink-400 border-4 border-black dark:border-white rounded-full animate-pulse" style="animation-delay: 0.5s;"></div>
      
      <!-- Floating Hourglass -->
      <div class="absolute top-40 right-1/3 w-24 h-24 bg-orange-400 border-4 border-black dark:border-white transform rotate-12 animate-wiggle">
        <i class='bx bx-hourglass text-6xl flex items-center justify-center h-full'></i>
      </div>
    </div>

    <!-- Main Content -->
    <div class="min-h-screen flex items-center justify-center p-4 relative z-10">
      <div class="max-w-4xl w-full">
        
        <!-- Error Code Badge -->
        <div class="flex justify-center mb-8 animate-pulse">
          <div class="bg-blue-600 text-white px-8 py-4 border-4 border-black dark:border-white transform -rotate-3 shadow-brutal">
            <span class="text-3xl font-black">ERROR_CODE: 503</span>
          </div>
        </div>

        <!-- Main Error Card -->
        <div class="bg-white dark:bg-gray-800 border-8 border-black dark:border-white p-8 md:p-12 shadow-brutal-xl transform hover:rotate-1 transition-all duration-300 mb-8">
          
          <!-- Giant 503 -->
          <div class="text-center mb-8">
            <h1 class="text-[150px] md:text-[250px] font-black leading-none mb-0" style="text-shadow: 8px 8px 0 #3B82F6, 16px 16px 0 #2563EB;">
              503
            </h1>
          </div>

          <!-- Random Error Message -->
          <div class="bg-blue-500 border-4 border-black dark:border-white p-6 mb-8 transform -rotate-1">
            <p class="text-2xl md:text-3xl font-black text-white text-center uppercase">
              {randomMessage}
            </p>
          </div>

          <!-- Explanation Box -->
          <div class="bg-yellow-400 border-4 border-black dark:border-white p-6 mb-8 transform rotate-1">
            <p class="text-xl font-bold text-black text-center">
              ‚è≥ PLEASE STAND BY ‚è≥
              <br class="mb-2"/>
              The service is temporarily unavailable. We're either doing maintenance,
              <br class="hidden md:block"/>
              or the server is taking a well-deserved break.
            </p>
          </div>

          <!-- Status Cards -->
          <div class="grid md:grid-cols-3 gap-4 mb-8">
            <div class="bg-blue-400 border-4 border-black dark:border-white p-4 text-center transform -rotate-2 hover:rotate-0 transition-transform">
              <i class='bx bx-time text-5xl mb-2'></i>
              <p class="font-black text-lg">PLEASE WAIT</p>
            </div>
            <div class="bg-purple-400 border-4 border-black dark:border-white p-4 text-center hover:-rotate-2 transition-transform">
              <i class='bx bx-wrench text-5xl mb-2'></i>
              <p class="font-black text-lg">MAINTENANCE</p>
            </div>
            <div class="bg-green-400 border-4 border-black dark:border-white p-4 text-center transform rotate-2 hover:rotate-0 transition-transform">
              <i class='bx bx-coffee text-5xl mb-2'></i>
              <p class="font-black text-lg">COFFEE BREAK</p>
            </div>
          </div>

          <!-- Progress Bar (Fake but fun) -->
          <div class="bg-gray-200 border-4 border-black dark:border-white h-12 mb-8 relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 animate-loading"></div>
            <div class="absolute inset-0 flex items-center justify-center">
              <span class="text-xl font-black text-black z-10">LOADING... PROBABLY...</span>
            </div>
          </div>

          <!-- Helpful Suggestions -->
          <div class="bg-orange-400 border-4 border-black dark:border-white p-6 mb-8">
            <h2 class="text-2xl font-black mb-4 text-black">WHAT YOU CAN DO:</h2>
            <ul class="space-y-2 text-lg font-bold text-black">
              <li>‚è∞ Wait a few minutes and try again</li>
              <li>‚òï Make yourself a coffee (we are)</li>
              <li>üîÑ Refresh this page later</li>
              <li>üéÆ Play a game while you wait</li>
              <li>üßò Practice patience (good for the soul)</li>
            </ul>
          </div>

          <!-- Action Buttons -->
          <div class="flex flex-col sm:flex-row gap-4 justify-center items-stretch">
            <a 
              href="/" 
              class="group relative inline-block flex-1 sm:flex-initial"
            >
              <span class="absolute inset-0 translate-x-2 translate-y-2 bg-green-400 transition-transform group-hover:translate-y-4 group-hover:translate-x-4 border-4 border-black dark:border-white"></span>
              <span class="relative flex items-center justify-center gap-2 border-4 border-black dark:border-white bg-white dark:bg-gray-900 px-8 py-4 text-xl font-black uppercase text-black dark:text-white group-hover:bg-green-400 transition-colors">
                <i class='bx bx-home-alt text-2xl'></i>
                GO HOME
              </span>
            </a>

            <button 
              onclick="location.reload()" 
              class="group relative inline-block flex-1 sm:flex-initial"
            >
              <span class="absolute inset-0 translate-x-2 translate-y-2 bg-blue-500 transition-transform group-hover:translate-y-4 group-hover:translate-x-4 border-4 border-black dark:border-white"></span>
              <span class="relative flex items-center justify-center gap-2 border-4 border-black dark:border-white bg-white dark:bg-gray-900 px-8 py-4 text-xl font-black uppercase text-black dark:text-white group-hover:bg-blue-500 transition-colors">
                <i class='bx bx-refresh text-2xl'></i>
                TRY AGAIN
              </span>
            </button>

            <button 
              onclick="history.back()" 
              class="group relative inline-block flex-1 sm:flex-initial"
            >
              <span class="absolute inset-0 translate-x-2 translate-y-2 bg-purple-500 transition-transform group-hover:translate-y-4 group-hover:translate-x-4 border-4 border-black dark:border-white"></span>
              <span class="relative flex items-center justify-center gap-2 border-4 border-black dark:border-white bg-white dark:bg-gray-900 px-8 py-4 text-xl font-black uppercase text-black dark:text-white group-hover:bg-purple-500 transition-colors">
                <i class='bx bx-left-arrow-alt text-2xl'></i>
                GO BACK
              </span>
            </button>
          </div>

        </div>

        <!-- Snarky Footer Message -->
        <div class="text-center">
          <div class="inline-block bg-blue-600 text-white px-6 py-3 border-4 border-black dark:border-white transform rotate-2">
            <p class="text-lg font-black">
              ‚è≥ PATIENCE IS A VIRTUE ‚è≥
            </p>
          </div>
        </div>

      </div>
    </div>

    <!-- Animated Marquee Footer -->
    <div class="fixed bottom-0 left-0 w-full bg-blue-600 border-t-8 border-black dark:border-white overflow-hidden py-4 z-20">
      <div class="whitespace-nowrap animate-marquee">
        <span class="mx-8 text-2xl font-black text-white">
          ‚öôÔ∏è SERVICE UNAVAILABLE ‚öôÔ∏è MAINTENANCE MODE ‚öôÔ∏è PLEASE WAIT ‚öôÔ∏è COME BACK SOON ‚öôÔ∏è LOADING ‚öôÔ∏è
        </span>
        <span class="mx-8 text-2xl font-black text-white">
          ‚öôÔ∏è SERVICE UNAVAILABLE ‚öôÔ∏è MAINTENANCE MODE ‚öôÔ∏è PLEASE WAIT ‚öôÔ∏è COME BACK SOON ‚öôÔ∏è LOADING ‚öôÔ∏è
        </span>
      </div>
    </div>
  </div>

  <style is:global>
      @keyframes marquee {
        0% { transform: translateX(0); }
        100% { transform: translateX(-50%); }
      }

      @keyframes wiggle {
        0%, 100% { transform: rotate(12deg); }
        50% { transform: rotate(-12deg); }
      }

      @keyframes loading {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
      }

      .animate-marquee {
        animation: marquee 20s linear infinite;
      }

      .animate-wiggle {
        animation: wiggle 2s ease-in-out infinite;
      }

      .animate-loading {
        animation: loading 2s ease-in-out infinite;
      }

      .shadow-brutal {
        box-shadow: 6px 6px 0px 0px rgba(0, 0, 0, 1);
      }

      .dark .shadow-brutal {
        box-shadow: 6px 6px 0px 0px rgba(255, 255, 255, 1);
      }

      .shadow-brutal-xl {
        box-shadow: 12px 12px 0px 0px rgba(0, 0, 0, 1);
      }

      .dark .shadow-brutal-xl {
        box-shadow: 12px 12px 0px 0px rgba(255, 255, 255, 1);
      }
    </style>
</BaseLayout>
